<!DOCTYPE html>
<html>
  <head>
    <title>Bringing Interactivity to Classic Clinical Plots with Highcharts and R</title>
    <meta charset="utf-8">
    <meta name="author" content="Iaroslav Domin" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
    <script src="libs/jquery-1.11.1/jquery.min.js"></script>
    <script src="libs/proj4js-2.3.15/proj4.js"></script>
    <link href="libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
    <link href="libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
    <script src="libs/highcharts-7.0.1/highcharts.js"></script>
    <script src="libs/highcharts-7.0.1/highcharts-3d.js"></script>
    <script src="libs/highcharts-7.0.1/highcharts-more.js"></script>
    <script src="libs/highcharts-7.0.1/modules/stock.js"></script>
    <script src="libs/highcharts-7.0.1/modules/map.js"></script>
    <script src="libs/highcharts-7.0.1/modules/annotations.js"></script>
    <script src="libs/highcharts-7.0.1/modules/boost.js"></script>
    <script src="libs/highcharts-7.0.1/modules/data.js"></script>
    <script src="libs/highcharts-7.0.1/modules/drag-panes.js"></script>
    <script src="libs/highcharts-7.0.1/modules/drilldown.js"></script>
    <script src="libs/highcharts-7.0.1/modules/item-series.js"></script>
    <script src="libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
    <script src="libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
    <script src="libs/highcharts-7.0.1/modules/exporting.js"></script>
    <script src="libs/highcharts-7.0.1/modules/export-data.js"></script>
    <script src="libs/highcharts-7.0.1/modules/funnel.js"></script>
    <script src="libs/highcharts-7.0.1/modules/heatmap.js"></script>
    <script src="libs/highcharts-7.0.1/modules/treemap.js"></script>
    <script src="libs/highcharts-7.0.1/modules/sankey.js"></script>
    <script src="libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
    <script src="libs/highcharts-7.0.1/modules/streamgraph.js"></script>
    <script src="libs/highcharts-7.0.1/modules/sunburst.js"></script>
    <script src="libs/highcharts-7.0.1/modules/vector.js"></script>
    <script src="libs/highcharts-7.0.1/modules/wordcloud.js"></script>
    <script src="libs/highcharts-7.0.1/modules/xrange.js"></script>
    <script src="libs/highcharts-7.0.1/modules/tilemap.js"></script>
    <script src="libs/highcharts-7.0.1/modules/venn.js"></script>
    <script src="libs/highcharts-7.0.1/modules/gantt.js"></script>
    <script src="libs/highcharts-7.0.1/modules/timeline.js"></script>
    <script src="libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
    <script src="libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
    <script src="libs/highcharts-7.0.1/plugins/motion.js"></script>
    <script src="libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
    <script src="libs/highcharts-7.0.1/custom/reset.js"></script>
    <script src="libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
    <script src="libs/highcharts-7.0.1/custom/text-symbols.js"></script>
    <script src="libs/highchart-binding-0.7.0/highchart.js"></script>
  </head>
  <body>
    <textarea id="source">

name: title




name: title
class: title-slide
background-image: url(pics/templ_title.png)
background-position: 50% 100%
background-size: 100% 35%

&lt;style&gt;
.remark-slide-number {
  margin-left: -60px !important;
  margin-right: auto !important;
}
&lt;/style&gt;

&lt;hr style="margin: 150px 0px 0px 0px;"&gt;

# Bringing Interactivity to Classic Clinical Plots with &lt;span style='color:#5f976c'&gt;Highcharts&lt;/span&gt; and &lt;span style='color:#1f65cc'&gt;R&lt;/span&gt;

## Iaroslav Domin      

&lt;img src="pics/templ_title_text.png" style="position: absolute; bottom: 3%; width: 85%"&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/Hoffmann-La_Roche_logo.svg/1920px-Hoffmann-La_Roche_logo.svg.png" style="position: fixed; top: 2.8%; right: 1.9%" width="65"&gt;

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/Hoffmann-La_Roche_logo.svg/1920px-Hoffmann-La_Roche_logo.svg.png)
background-size: 65px
background-position: 98% 3%
name: layout
layout: true


&lt;img src="pics/templ_watermark.png" style="position: fixed; bottom: 0%; right: 0%" width="120"&gt;

---
name: agenda
exclude: false

# Agenda

1. Interactive visualization in R  options
2. Highcharts vs ggplot2
3. Clinical graphs with Highcharts
4. Helpful resources

---
name: gg-shiny
exclude: false

# ggplot2 + shiny

(?) add a gif here and just +-

### What's good?

* easy to build

### What's bad?

* static plot is updated on each interaction
* limited possibilities

???
(relatively) easy to build
usually familiar
will not get this feeling

---

name: fortunately
exclude: false

# Interfaces

&lt;img 
  src="https://upload.wikimedia.org/wikipedia/commons/9/99/Unofficial_JavaScript_logo_2.svg"
  style="display:inline; position: absolute; top: 160px;"
  height="130"&gt;
  
&lt;img 
  src="pics/python-logo.svg"
  style="display:inline; position: absolute; top: 350px; left: 85px;"
  height="150"&gt;
  
&lt;span style="position: absolute; top:500px; left: 110px; font-size: 450%;"&gt;
...
&lt;/span&gt;
  
&lt;img 
  src="pics/arrow-right-blue.svg"
  style="position: absolute; left: 290px; top: 270px"
  width="270"&gt;

&lt;img 
  src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/724px-R_logo.svg.png"
  style="position: absolute; right: 50px; top: 260px"
  height="200"&gt;

---
name: alter
exclude: false
name: plotly + bokeh

# Popular libraries ported to R

.pull-left[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Plotly-logo-01-square.png/220px-Plotly-logo-01-square.png" height = 200&gt;


```r
library(plotly)
```

* JavaScript
* free, pay only for additional support
* official R package from the developers 
* can translate ggplot2 to plotly 
]

.pull-right[
&lt;img src="http://pyviz.org/assets/bokeh.png" height = 200&gt;


```r
library(rbokeh)
```

* Python
* open-source
* fast
* not so fancy
]

???

[others](http://www.rebeccabarter.com/blog/2017-04-20-interactive/)

---
name: hc-intro
exclude: false
# Highcharts

.pull-left[
&lt;img src="https://cdn.freebiesupply.com/logos/large/2x/highcharts-logo-svg-vector.svg" height = 300&gt;
]

.pull-right[

```r
library(highcharter)
```

* &lt;span style='color:#3d94d1; font-size:24px;'&gt;**looks awesome!**&lt;/span&gt;
* javascript
* very different from ggplot2
* excellent documentation
]
--
exclude: false

```
&gt; library(highcharter)
Highcharts (www.highcharts.com) is a Highsoft software product which is
not free for commercial and Governmental use
```

???
they did not pay me haha
* free for casual use
* need to pay to use in production
* minimalistic, stylish
* smooth animation
* vast choice of vis types
* I just like how it looks

---
name: gg-philosophy-1
exclude: false

# ggplot2 philosophy



&lt;img src="pics/ggplot2_phil_1.png" height = 500&gt;

???
we work with dataframes only
rows are observations
columns are feautes
---
name: gg-philosophy-2
exclude: false

# ggplot2 philosophy

&lt;img src="pics/ggplot2_phil_2.png" height = 500&gt;

---
name: gg-philosophy-3
exclude: false

# ggplot2 philosophy




```r
ggplot(df, aes(x = s_length, y = s_width, color = species))
```

&lt;img src="index_files/figure-html/unnamed-chunk-7-1.png" style="position: absolute; bottom: 3%;" /&gt;

---
name: gg-philosophy-4
exclude: false

# ggplot2 philosophy



```r
ggplot(df, aes(x = s_length, y = s_width, color = species)) +
  geom_point()
```

&lt;img src="index_files/figure-html/unnamed-chunk-8-1.png" style="position: absolute; bottom: 3%;" /&gt;

---
name: gg-philosophy-5
exclude: false

# ggplot2 philosophy


```r
ggplot(df, aes(x = s_length, y = s_width, color = species)) +
  geom_point() + 
  geom_smooth()
```

&lt;img src="index_files/figure-html/unnamed-chunk-9-1.png" style="position: absolute; bottom: 3%;" /&gt;



---
name: hc-philosophy
exclude: false

# Highcharts philosophy

### Dataframes?
--
exclude: false

### No, lists!


```js
series: [{
    name: 'SUBJ-01',
    data: [43934, 52503, 57177, 69658, 97031, 119931, 137133]
}, {
    name: 'SUBJ-02',
    data: [24916, 24064, 29742, 29851, 32490, 30282, 38121]
}, {
    name: 'SUBJ-03',
    data: [11744, 17722, 16005, 19771, 20185, 24377, 32147]
}, {
    name: 'SUBJ-04',
    data: [null, null, 7988, 12169, 15112, 22452, 34400]
}],
...
```


&lt;script type="text/javascript"&gt;
series: [{
    name: 'SUBJ-01',
    data: [43934, 52503, 57177, 69658, 97031, 119931, 137133]
}, {
    name: 'SUBJ-02',
    data: [24916, 24064, 29742, 29851, 32490, 30282, 38121]
}, {
    name: 'SUBJ-03',
    data: [11744, 17722, 16005, 19771, 20185, 24377, 32147]
}, {
    name: 'SUBJ-04',
    data: [null, null, 7988, 12169, 15112, 22452, 34400]
}],
...
&lt;/script&gt;

???
historically - HC initially built for timeseries data
nested lists is very natural thing for js as far as i can judge (at least more than for R)

---
name: simple
exclude: false

# Simple Example


.pull-left[

```r
highchart(
  list(
    series = list(
*     list(name = "A",
*          data = c(2, 3, 1)),
      list(name = "B",
           data = c(5, 0, 2))
      )
  )
)
```
]

.pull-right[
<div id="htmlwidget-766a2bda446a20ef210e" style="width:100%;height:400px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-766a2bda446a20ef210e">{"x":{"hc_opts":{"series":[{"name":"A","data":[2,3,1]},{"name":"B","data":[5,0,2]}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
]

???
* 1-class citizen - series defined as lists
* must contain data attribute and others
* want to display multiple series - create list of list defining series
* list containing all the series - is actually one of the attributes in the list of plot options

* looks minimalistic and stylish
* but already provides you with some options such as tooltips, click on label element to hide corresponding records
* menu where you can save this plot

---
name: more-lists-1
exclude: false

# We need to go deeper


```r
highchart(
    list(
      series = list(
        list(name = "A",
          data = list(
            2,
*           list(y = 3,
*                marker = list(radius = 20),
*                color = "red",
*                name = "RED POINT"),
            1)),
        list(name = "B",
           data = c(5, 0, 2))
        )
    )
)
```

???
(?) alter label option + add something interactive
further I will show a more impressive example of what can be done with individual point options
we
---
name: more-lists-2
exclude: false

# We need to go deeper
<div id="htmlwidget-6305960a1e6297a87bb5" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-6305960a1e6297a87bb5">{"x":{"hc_opts":{"series":[{"name":"A","data":[2,{"y":3,"marker":{"radius":20},"color":"red","name":"RED POINT"},1]},{"name":"B","data":[5,0,2]}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
???
the idea is that you can pick arbitrary part of the plot
and set whatever options you want

---
name: hc-helpers-1
exclude: false

# It's not that bad actually


```r
highchart() %&gt;%
  hc_add_series(data = c(2, 3, 1), name = "A") %&gt;% 
  hc_add_series(data = c(5, 0, 2), name = "B") %&gt;% 
  hc_chart(type = "column") %&gt;%
  hc_title(text = "Super Meaningful Chart")
```

---
name: hc-helpers-2
exclude: false

# It's not that bad actually


```r
*highchart() %&gt;%
  hc_add_series(data = c(2, 3, 1), name = "A") %&gt;% 
  hc_add_series(data = c(5, 0, 2), name = "B") %&gt;% 
  hc_chart(type = "column") %&gt;%
  hc_title(text = "Super Meaningful Chart")
```

---
name: hc-helpers-3
exclude: false

# It's not that bad actually


```r
highchart() %&gt;%
* hc_add_series(data = c(2, 3, 1), name = "A") %&gt;%
* hc_add_series(data = c(5, 0, 2), name = "B") %&gt;%
  hc_chart(type = "column") %&gt;%
  hc_title(text = "Super Meaningful Chart")
```

---
name: hc-helpers-4
exclude: false

# It's not that bad actually


```r
highchart() %&gt;%
  hc_add_series(data = c(2, 3, 1), name = "A") %&gt;% 
  hc_add_series(data = c(5, 0, 2), name = "B") %&gt;% 
* hc_chart(type = "column") %&gt;%
  hc_title(text = "Super Meaningful Chart")
```

---
name: hc-helpers-5
exclude: false

# It's not that bad actually


```r
highchart() %&gt;%
  hc_add_series(data = c(2, 3, 1), name = "A") %&gt;% 
  hc_add_series(data = c(5, 0, 2), name = "B") %&gt;% 
  hc_chart(type = "column") %&gt;%
* hc_title(text = "Super Meaningful Chart")
```


---
name: hc-helpers-6
exclude: false

# It's not that bad actually

```r
highchart() %&gt;%
  hc_add_series(data = c(2, 3, 1), name = "A") %&gt;% 
  hc_add_series(data = c(5, 0, 2), name = "B") %&gt;% 
  hc_chart(type = "column") %&gt;%
  hc_title(text = "Super Meaningful Chart")
```

<div id="htmlwidget-09f5e1d59077b94da3da" style="width:500px;height:350px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-09f5e1d59077b94da3da">{"x":{"hc_opts":{"title":{"text":"Super Meaningful Chart"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"data":[2,3,1],"name":"A"},{"data":[5,0,2],"name":"B"}],"chart":{"type":"column"}},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>

???
the author couldnt have just left us with these scary lists.
Added some helper functions. Would’ve been too cruel
what's cool in letting people write js-like in R?

---
name: hchart-gg
exclude: false

# Hey, I can do some ggplot2!




```r
hchart(df, "line", hcaes(x = x, y = y, group = arm))
```

<div id="htmlwidget-5422ef720226816853db" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-5422ef720226816853db">{"x":{"hc_opts":{"title":{"text":null},"yAxis":{"title":{"text":"y"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"A","data":[{"arm":"A","x":1,"y":-0.0892475795790305},{"arm":"A","x":2,"y":-1.05001756432214},{"arm":"A","x":3,"y":-1.66816877965496},{"arm":"A","x":4,"y":-2.80052645264939},{"arm":"A","x":5,"y":-3.9295030494226},{"arm":"A","x":6,"y":-4.21225600229324},{"arm":"A","x":7,"y":-3.99375651331891},{"arm":"A","x":8,"y":-5.16929955955283},{"arm":"A","x":9,"y":-4.9327577231179},{"arm":"A","x":10,"y":-4.97526629004083},{"arm":"A","x":11,"y":-6.78346566998636},{"arm":"A","x":12,"y":-5.60096030048922},{"arm":"A","x":13,"y":-5.43816424476778},{"arm":"A","x":14,"y":-4.83578128769789},{"arm":"A","x":15,"y":-4.47836585064862},{"arm":"A","x":16,"y":-4.91594837624778},{"arm":"A","x":17,"y":-3.40411203261128},{"arm":"A","x":18,"y":-5.75629835763611},{"arm":"A","x":19,"y":-5.74389167385563},{"arm":"A","x":20,"y":-6.19074953346723},{"arm":"A","x":21,"y":-4.99764347842915},{"arm":"A","x":22,"y":-5.74507776918625},{"arm":"A","x":23,"y":-6.16293143577899},{"arm":"A","x":24,"y":-6.53351845466351},{"arm":"A","x":25,"y":-6.24266744797669},{"arm":"A","x":26,"y":-4.83268861431747},{"arm":"A","x":27,"y":-5.13193079894059},{"arm":"A","x":28,"y":-5.20745260354556},{"arm":"A","x":29,"y":-4.57831312164858},{"arm":"A","x":30,"y":-3.76432963083618},{"arm":"A","x":31,"y":-4.3564144902955},{"arm":"A","x":32,"y":-5.42671995549805},{"arm":"A","x":33,"y":-4.35088720465845},{"arm":"A","x":34,"y":-5.34191052616313},{"arm":"A","x":35,"y":-5.2864784408005},{"arm":"A","x":36,"y":-5.07368725382298},{"arm":"A","x":37,"y":-7.73561202008941},{"arm":"A","x":38,"y":-9.38735718554917},{"arm":"A","x":39,"y":-10.0727173018294},{"arm":"A","x":40,"y":-9.88896663184923},{"arm":"A","x":41,"y":-9.22826991861979},{"arm":"A","x":42,"y":-9.90584400648002},{"arm":"A","x":43,"y":-10.8942478256568},{"arm":"A","x":44,"y":-9.35557249076356},{"arm":"A","x":45,"y":-8.7652343082531},{"arm":"A","x":46,"y":-7.69889247913483},{"arm":"A","x":47,"y":-7.23835558275013},{"arm":"A","x":48,"y":-7.05006580506942},{"arm":"A","x":49,"y":-7.59435052374818},{"arm":"A","x":50,"y":-9.17383671307507},{"arm":"A","x":51,"y":-8.90128256318249},{"arm":"A","x":52,"y":-6.96101191695084},{"arm":"A","x":53,"y":-7.63997773869968},{"arm":"A","x":54,"y":-7.97603566713871},{"arm":"A","x":55,"y":-8.52201336992357},{"arm":"A","x":56,"y":-9.32816958283814},{"arm":"A","x":57,"y":-9.56958327883505},{"arm":"A","x":58,"y":-9.11500139838011},{"arm":"A","x":59,"y":-11.1881490170233},{"arm":"A","x":60,"y":-11.63116286095},{"arm":"A","x":61,"y":-11.6192441416465},{"arm":"A","x":62,"y":-11.5215829510609},{"arm":"A","x":63,"y":-11.2241009911326},{"arm":"A","x":64,"y":-11.5789244400621},{"arm":"A","x":65,"y":-10.3352598141954},{"arm":"A","x":66,"y":-10.2866839598561},{"arm":"A","x":67,"y":-10.9013765715948},{"arm":"A","x":68,"y":-13.2262865023298},{"arm":"A","x":69,"y":-12.7693670226039},{"arm":"A","x":70,"y":-14.194915726839},{"arm":"A","x":71,"y":-14.2809313336575},{"arm":"A","x":72,"y":-14.7467703103597},{"arm":"A","x":73,"y":-16.1343143000077},{"arm":"A","x":74,"y":-15.8924168002637},{"arm":"A","x":75,"y":-16.9596047696569},{"arm":"A","x":76,"y":-17.1134669545139},{"arm":"A","x":77,"y":-16.8957206798492},{"arm":"A","x":78,"y":-16.9245899953826},{"arm":"A","x":79,"y":-18.1039276298975},{"arm":"A","x":80,"y":-19.8724589168265},{"arm":"A","x":81,"y":-17.9156455058457},{"arm":"A","x":82,"y":-17.7757440723358},{"arm":"A","x":83,"y":-18.0581922653447},{"arm":"A","x":84,"y":-17.8734741259344},{"arm":"A","x":85,"y":-17.674515150963},{"arm":"A","x":86,"y":-18.2286071657953},{"arm":"A","x":87,"y":-18.088218066108},{"arm":"A","x":88,"y":-18.2807581891538},{"arm":"A","x":89,"y":-18.2691264108809},{"arm":"A","x":90,"y":-20.6428661419969},{"arm":"A","x":91,"y":-20.1407484606916},{"arm":"A","x":92,"y":-19.4291753123259},{"arm":"A","x":93,"y":-19.3880118442384},{"arm":"A","x":94,"y":-18.9855718043364},{"arm":"A","x":95,"y":-18.4630940241176},{"arm":"A","x":96,"y":-17.1929857898234},{"arm":"A","x":97,"y":-18.6149001918517},{"arm":"A","x":98,"y":-19.5837737984246},{"arm":"A","x":99,"y":-20.0413485520689},{"arm":"A","x":100,"y":-21.1249194516352}],"type":"line"},{"name":"B","data":[{"arm":"B","x":1,"y":0.139843767236828},{"arm":"B","x":2,"y":-0.133211238481391},{"arm":"B","x":3,"y":-1.32319959584654},{"arm":"B","x":4,"y":-3.51244100601791},{"arm":"B","x":5,"y":-3.91782969035313},{"arm":"B","x":6,"y":-4.24349637260935},{"arm":"B","x":7,"y":-3.09735555329767},{"arm":"B","x":8,"y":-4.16399616288812},{"arm":"B","x":9,"y":-0.502059979825725},{"arm":"B","x":10,"y":-0.461671059862159},{"arm":"B","x":11,"y":-0.285350714191028},{"arm":"B","x":12,"y":0.147197779770919},{"arm":"B","x":13,"y":-0.775459064387427},{"arm":"B","x":14,"y":-0.120826324216407},{"arm":"B","x":15,"y":-0.369804445568663},{"arm":"B","x":16,"y":-1.35635745907274},{"arm":"B","x":17,"y":-1.87143718301018},{"arm":"B","x":18,"y":-3.26190225851991},{"arm":"B","x":19,"y":-3.69519556578245},{"arm":"B","x":20,"y":-2.58486533200838},{"arm":"B","x":21,"y":-2.36754547897069},{"arm":"B","x":22,"y":-2.38769543480644},{"arm":"B","x":23,"y":-0.967112618969697},{"arm":"B","x":24,"y":-1.71515907439798},{"arm":"B","x":25,"y":-2.78543956698213},{"arm":"B","x":26,"y":-2.17143198356753},{"arm":"B","x":27,"y":-2.03232596588617},{"arm":"B","x":28,"y":-1.61319412773241},{"arm":"B","x":29,"y":-0.948021814391933},{"arm":"B","x":30,"y":-1.62264135430711},{"arm":"B","x":31,"y":-1.00070787953881},{"arm":"B","x":32,"y":-0.560286098506533},{"arm":"B","x":33,"y":-1.08334811038794},{"arm":"B","x":34,"y":-1.8059561701628},{"arm":"B","x":35,"y":-1.35838097205918},{"arm":"B","x":36,"y":-2.04445920691536},{"arm":"B","x":37,"y":-2.10479820120557},{"arm":"B","x":38,"y":-2.19851225960311},{"arm":"B","x":39,"y":-1.67667981780654},{"arm":"B","x":40,"y":-1.00713675643568},{"arm":"B","x":41,"y":0.667007915344749},{"arm":"B","x":42,"y":0.761586300980125},{"arm":"B","x":43,"y":-0.762985948747426},{"arm":"B","x":44,"y":-0.476107480595462},{"arm":"B","x":45,"y":-1.61454467563937},{"arm":"B","x":46,"y":-2.73062653093496},{"arm":"B","x":47,"y":-3.86565664431929},{"arm":"B","x":48,"y":-3.5531033819664},{"arm":"B","x":49,"y":-2.29864383598919},{"arm":"B","x":50,"y":-2.01995614679709},{"arm":"B","x":51,"y":-2.03606068541834},{"arm":"B","x":52,"y":-1.25434766848446},{"arm":"B","x":53,"y":-0.729026522496165},{"arm":"B","x":54,"y":-1.69443890535451},{"arm":"B","x":55,"y":-2.06138225847079},{"arm":"B","x":56,"y":-2.78248734332188},{"arm":"B","x":57,"y":-3.22456656571277},{"arm":"B","x":58,"y":-3.51952873036961},{"arm":"B","x":59,"y":-4.05398966568253},{"arm":"B","x":60,"y":-3.91852099084917},{"arm":"B","x":61,"y":-2.70826940680725},{"arm":"B","x":62,"y":-3.37088626317577},{"arm":"B","x":63,"y":-4.28412716734139},{"arm":"B","x":64,"y":-3.35976661947803},{"arm":"B","x":65,"y":-1.39071514859083},{"arm":"B","x":66,"y":-0.686669613498631},{"arm":"B","x":67,"y":-0.0649488518195196},{"arm":"B","x":68,"y":-1.23806430822317},{"arm":"B","x":69,"y":-1.97216532063336},{"arm":"B","x":70,"y":-0.606942413931468},{"arm":"B","x":71,"y":-1.32969083753234},{"arm":"B","x":72,"y":0.496324309300983},{"arm":"B","x":73,"y":1.02623498411642},{"arm":"B","x":74,"y":1.34752754242723},{"arm":"B","x":75,"y":3.28334149757766},{"arm":"B","x":76,"y":2.95912255836043},{"arm":"B","x":77,"y":3.43238730172195},{"arm":"B","x":78,"y":3.51991744822795},{"arm":"B","x":79,"y":2.98135635928829},{"arm":"B","x":80,"y":0.806872870983039},{"arm":"B","x":81,"y":0.264440015911098},{"arm":"B","x":82,"y":-0.418950625061051},{"arm":"B","x":83,"y":-0.168947545689608},{"arm":"B","x":84,"y":0.832392503333893},{"arm":"B","x":85,"y":-0.506984495985928},{"arm":"B","x":86,"y":-0.708558544557019},{"arm":"B","x":87,"y":0.419788485929571},{"arm":"B","x":88,"y":0.612816226583615},{"arm":"B","x":89,"y":0.595849962366427},{"arm":"B","x":90,"y":0.581256901361055},{"arm":"B","x":91,"y":1.31758884222168},{"arm":"B","x":92,"y":1.56897614066736},{"arm":"B","x":93,"y":2.35015204043111},{"arm":"B","x":94,"y":3.37378885848682},{"arm":"B","x":95,"y":3.33940815215944},{"arm":"B","x":96,"y":3.24021440176143},{"arm":"B","x":97,"y":3.51364184500481},{"arm":"B","x":98,"y":5.16129217325155},{"arm":"B","x":99,"y":6.70873122068775},{"arm":"B","x":100,"y":6.28290320090652}],"type":"line"}],"xAxis":{"type":"linear","title":{"text":"x"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>

???
but to be honest it is quite limited
due to huge difference in philosophies

---
name: surv-1
exclude: false

# Survival


```r
library(survival)
library(dplyr)

lung &lt;- survival::lung
lung &lt;- mutate(lung, sex = ifelse(sex == 1, "Male", "Female"))
fit &lt;- survfit(Surv(time, status) ~ sex, data = lung) 
fit
```

```
## Call: survfit(formula = Surv(time, status) ~ sex, data = lung)
## 
##              n events median 0.95LCL 0.95UCL
## sex=Female  90     53    426     348     550
## sex=Male   138    112    270     212     310
```

---
name: surv-2
exclude: false

# Survival


```r
hchart(fit, ranges = TRUE)
```

&lt;img src = "pics/hc_surv.png" style = "width: 95%; height: auto;"&gt;

---
name: spider-gg
exclude: false

# Spiderplot (ggplot2)

![](index_files/figure-html/unnamed-chunk-26-1.png)&lt;!-- --&gt;



---
name: spider-hc
exclude: false

# Spiderplot (Highcharts)

<div id="htmlwidget-e21e3ada56595b869d90" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-e21e3ada56595b869d90">{"x":{"hc_opts":{"title":{"text":null},"yAxis":{"title":{"text":"change in target lesions [%]"},"plotBands":{"color":"#e5e5e5","from":-30,"to":20},"lineWidth":1,"tickWidth":1,"gridLineColor":"white"},"credits":{"enabled":false},"exporting":{"enabled":true},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"line":{"marker":{"symbol":"circle","radius":3},"dataLabels":{"allowOverlap":true}}},"chart":{"zoomType":"xy"},"xAxis":{"title":{"text":"week"}},"tooltip":{"formatter":"function(){\n                                  return ('<b>' + this.point.SUBJN + '<b/>' + '<br> Change: ' + (+this.y.toFixed(1)) + ' % <br>' +\n                                  ' Day: ' + Math.round(7*this.x))}"},"legend":{"title":{"text":"BOR"},"layout":"vertical","align":"right","verticalAlign":"top","y":50},"series":[{"USUBJID":"P-01","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-01","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.24806104786429,"y":25.4601556647842,"SUBJN":"P-01","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":12.3672634753898,"y":25.0469375836303,"SUBJN":"P-01","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":"","showInLegend":true},{"USUBJID":"P-04","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-04","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":9.46974352515671,"y":43.3181869279841,"SUBJN":"P-04","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":16.8443320827657,"y":63.4789453538999,"SUBJN":"P-04","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-06","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-06","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.9489923587499,"y":30.6533388819517,"SUBJN":"P-06","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-07","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-07","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":10.0774717616457,"y":120.798365416413,"SUBJN":"P-07","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-11","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-11","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":6.24478656905679,"y":-4.66471801878019,"SUBJN":"P-11","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-15","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-15","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":9.06184580991392,"y":50.5468435498701,"SUBJN":"P-15","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-16","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-16","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":5.81068948083422,"y":15.5449931406684,"SUBJN":"P-16","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-17","COLOR_GROUP":"PD","name":"PD","color":"#d11141","data":[{"x":0,"y":0,"SUBJN":"P-17","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":4.08748697665159,"y":25.5373261652282,"SUBJN":"P-17","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":8.0497065373978,"y":32.5411754576016,"SUBJN":"P-17","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-03","COLOR_GROUP":"PR","name":"PR","color":"#00b159","data":[{"x":0,"y":0,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.52058714068014,"y":-70.1612707368888,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":11.6699138261984,"y":-55.0810321513374,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.3598914121365,"y":-62.5403788281878,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":23.5219581418641,"y":-71.983500166567,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":31.6651649223771,"y":-76.001985034496,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":39.3109639674762,"y":-90,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":47.7158150344177,"y":-85.5155894762892,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":55.0689854018933,"y":-90,"SUBJN":"P-03","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":"","showInLegend":true},{"USUBJID":"P-05","COLOR_GROUP":"PR","name":"PR","color":"#00b159","data":[{"x":0,"y":0,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":8.76714123015899,"y":-3.34762279574425,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":13.6124634294478,"y":-32.4229054489364,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.7745249579757,"y":-47.978890642914,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":21.6514269226466,"y":-61.5884820068162,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":31.3007151208231,"y":-37.2868219141966,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":40.4571480318377,"y":-47.8443022030223,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":47.0969058882051,"y":-74.1131207506082,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":58.9191776107241,"y":-69.0308545055767,"SUBJN":"P-05","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-09","COLOR_GROUP":"PR","name":"PR","color":"#00b159","data":[{"x":0,"y":0,"SUBJN":"P-09","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.97175166164669,"y":-53.6523111705213,"SUBJN":"P-09","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":16.4959130049701,"y":-58.9847024268276,"SUBJN":"P-09","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":23.4988585468241,"y":-67.4711094315291,"SUBJN":"P-09","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-02","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-02","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":8.27039283497007,"y":-11.2960867907992,"SUBJN":"P-02","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":"","showInLegend":true},{"USUBJID":"P-08","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-08","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":8.54147457671499,"y":-1.60873974626918,"SUBJN":"P-08","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":16.312896238592,"y":40.2604706647786,"SUBJN":"P-08","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":20.3812532684081,"y":96.9811995728385,"SUBJN":"P-08","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-10","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-10","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.99601808015076,"y":-4.78396057823358,"SUBJN":"P-10","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":16.6260196300687,"y":-8.88842048601055,"SUBJN":"P-10","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":24.2458742640104,"y":33.7903521763082,"SUBJN":"P-10","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-12","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-12","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.82137112656123,"y":10.885965714799,"SUBJN":"P-12","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.1403609378022,"y":17.7108262073373,"SUBJN":"P-12","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-13","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-13","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":9.74547270046142,"y":-11.1180627081355,"SUBJN":"P-13","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.750440439611,"y":-7.42321215949101,"SUBJN":"P-13","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-14","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-14","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":8.57615291748939,"y":-38.8573511509394,"SUBJN":"P-14","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":11.9772636149116,"y":0,"SUBJN":"P-14","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":16.247289104042,"y":-4.84930493738937,"SUBJN":"P-14","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false},{"USUBJID":"P-18","COLOR_GROUP":"SD","name":"SD","color":"#ffc425","data":[{"x":0,"y":0,"SUBJN":"P-18","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":7.93312879953356,"y":18.9072818575107,"SUBJN":"P-18","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}},{"x":15.5849288388229,"y":44.2552921629917,"SUBJN":"P-18","dataLabels":{"enabled":false,"format":"{point.SUBJN}","verticalAlign":"middle","align":"left","style":{"fontSize":"9px"}}}],"linkedTo":":previous","showInLegend":false}]},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>

???
(!) fix lower y limit to -100
zoomable - emphasize

---
name: waterfall
exclude: false

# Hidden Data

<div id="htmlwidget-eb8c61077827bc00cad0" style="width:100%;height:500px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb8c61077827bc00cad0">{"x":{"hc_opts":{"title":{"text":null},"yAxis":{"title":{"text":"Change in target lesions from baseline [%]"},"type":"linear","plotBands":{"color":"#e5e5e5","from":-30,"to":20}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"SUBJN":"P-07","BOR":"PD","data":{"x":[0,10.0774717616457],"y":[0,120.798365416413]},"PCHG":120.798365416413,"ttdata":[{"x":0,"y":0},{"x":10.0774717616457,"y":120.798365416413}],"color":"#d11141","y":120.798365416413,"name":"P-07"},{"SUBJN":"P-15","BOR":"PD","data":{"x":[0,9.06184580991392],"y":[0,50.5468435498701]},"PCHG":50.5468435498701,"ttdata":[{"x":0,"y":0},{"x":9.06184580991392,"y":50.5468435498701}],"color":"#d11141","y":50.5468435498701,"name":"P-15"},{"SUBJN":"P-04","BOR":"PD","data":{"x":[0,9.46974352515671,16.8443320827657],"y":[0,43.3181869279841,63.4789453538999]},"PCHG":43.3181869279841,"ttdata":[{"x":0,"y":0},{"x":9.46974352515671,"y":43.3181869279841},{"x":16.8443320827657,"y":63.4789453538999}],"color":"#d11141","y":43.3181869279841,"name":"P-04"},{"SUBJN":"P-06","BOR":"PD","data":{"x":[0,15.9489923587499],"y":[0,30.6533388819517]},"PCHG":30.6533388819517,"ttdata":[{"x":0,"y":0},{"x":15.9489923587499,"y":30.6533388819517}],"color":"#d11141","y":30.6533388819517,"name":"P-06"},{"SUBJN":"P-17","BOR":"PD","data":{"x":[0,4.08748697665159,8.0497065373978],"y":[0,25.5373261652282,32.5411754576016]},"PCHG":25.5373261652282,"ttdata":[{"x":0,"y":0},{"x":4.08748697665159,"y":25.5373261652282},{"x":8.0497065373978,"y":32.5411754576016}],"color":"#d11141","y":25.5373261652282,"name":"P-17"},{"SUBJN":"P-01","BOR":"PD","data":{"x":[0,7.24806104786429,12.3672634753898],"y":[0,25.4601556647842,25.0469375836303]},"PCHG":25.0469375836303,"ttdata":[{"x":0,"y":0},{"x":7.24806104786429,"y":25.4601556647842},{"x":12.3672634753898,"y":25.0469375836303}],"color":"#d11141","y":25.0469375836303,"name":"P-01"},{"SUBJN":"P-18","BOR":"SD","data":{"x":[0,7.93312879953356,15.5849288388229],"y":[0,18.9072818575107,44.2552921629917]},"PCHG":18.9072818575107,"ttdata":[{"x":0,"y":0},{"x":7.93312879953356,"y":18.9072818575107},{"x":15.5849288388229,"y":44.2552921629917}],"color":"#ffc425","y":18.9072818575107,"name":"P-18"},{"SUBJN":"P-16","BOR":"PD","data":{"x":[0,5.81068948083422],"y":[0,15.5449931406684]},"PCHG":15.5449931406684,"ttdata":[{"x":0,"y":0},{"x":5.81068948083422,"y":15.5449931406684}],"color":"#d11141","y":15.5449931406684,"name":"P-16"},{"SUBJN":"P-12","BOR":"SD","data":{"x":[0,7.82137112656123,15.1403609378022],"y":[0,10.885965714799,17.7108262073373]},"PCHG":10.885965714799,"ttdata":[{"x":0,"y":0},{"x":7.82137112656123,"y":10.885965714799},{"x":15.1403609378022,"y":17.7108262073373}],"color":"#ffc425","y":10.885965714799,"name":"P-12"},{"SUBJN":"P-08","BOR":"SD","data":{"x":[0,8.54147457671499,16.312896238592,20.3812532684081],"y":[0,-1.60873974626918,40.2604706647786,96.9811995728385]},"PCHG":-1.60873974626918,"ttdata":[{"x":0,"y":0},{"x":8.54147457671499,"y":-1.60873974626918},{"x":16.312896238592,"y":40.2604706647786},{"x":20.3812532684081,"y":96.9811995728385}],"color":"#ffc425","y":-1.60873974626918,"name":"P-08"},{"SUBJN":"P-11","BOR":"PD","data":{"x":[0,6.24478656905679],"y":[0,-4.66471801878019]},"PCHG":-4.66471801878019,"ttdata":[{"x":0,"y":0},{"x":6.24478656905679,"y":-4.66471801878019}],"color":"#d11141","y":-4.66471801878019,"name":"P-11"},{"SUBJN":"P-10","BOR":"SD","data":{"x":[0,7.99601808015076,16.6260196300687,24.2458742640104],"y":[0,-4.78396057823358,-8.88842048601055,33.7903521763082]},"PCHG":-8.88842048601055,"ttdata":[{"x":0,"y":0},{"x":7.99601808015076,"y":-4.78396057823358},{"x":16.6260196300687,"y":-8.88842048601055},{"x":24.2458742640104,"y":33.7903521763082}],"color":"#ffc425","y":-8.88842048601055,"name":"P-10"},{"SUBJN":"P-13","BOR":"SD","data":{"x":[0,9.74547270046142,15.750440439611],"y":[0,-11.1180627081355,-7.42321215949101]},"PCHG":-11.1180627081355,"ttdata":[{"x":0,"y":0},{"x":9.74547270046142,"y":-11.1180627081355},{"x":15.750440439611,"y":-7.42321215949101}],"color":"#ffc425","y":-11.1180627081355,"name":"P-13"},{"SUBJN":"P-02","BOR":"SD","data":{"x":[0,8.27039283497007],"y":[0,-11.2960867907992]},"PCHG":-11.2960867907992,"ttdata":[{"x":0,"y":0},{"x":8.27039283497007,"y":-11.2960867907992}],"color":"#ffc425","y":-11.2960867907992,"name":"P-02"},{"SUBJN":"P-14","BOR":"SD","data":{"x":[0,8.57615291748939,11.9772636149116,16.247289104042],"y":[0,-38.8573511509394,0,-4.84930493738937]},"PCHG":-38.8573511509394,"ttdata":[{"x":0,"y":0},{"x":8.57615291748939,"y":-38.8573511509394},{"x":11.9772636149116,"y":0},{"x":16.247289104042,"y":-4.84930493738937}],"color":"#ffc425","y":-38.8573511509394,"name":"P-14"},{"SUBJN":"P-09","BOR":"PR","data":{"x":[0,7.97175166164669,16.4959130049701,23.4988585468241],"y":[0,-53.6523111705213,-58.9847024268276,-67.4711094315291]},"PCHG":-67.4711094315291,"ttdata":[{"x":0,"y":0},{"x":7.97175166164669,"y":-53.6523111705213},{"x":16.4959130049701,"y":-58.9847024268276},{"x":23.4988585468241,"y":-67.4711094315291}],"color":"#00b159","y":-67.4711094315291,"name":"P-09"},{"SUBJN":"P-05","BOR":"PR","data":{"x":[0,8.76714123015899,13.6124634294478,15.7745249579757,21.6514269226466,31.3007151208231,40.4571480318377,47.0969058882051,58.9191776107241],"y":[0,-3.34762279574425,-32.4229054489364,-47.978890642914,-61.5884820068162,-37.2868219141966,-47.8443022030223,-74.1131207506082,-69.0308545055767]},"PCHG":-74.1131207506082,"ttdata":[{"x":0,"y":0},{"x":8.76714123015899,"y":-3.34762279574425},{"x":13.6124634294478,"y":-32.4229054489364},{"x":15.7745249579757,"y":-47.978890642914},{"x":21.6514269226466,"y":-61.5884820068162},{"x":31.3007151208231,"y":-37.2868219141966},{"x":40.4571480318377,"y":-47.8443022030223},{"x":47.0969058882051,"y":-74.1131207506082},{"x":58.9191776107241,"y":-69.0308545055767}],"color":"#00b159","y":-74.1131207506082,"name":"P-05"},{"SUBJN":"P-03","BOR":"PR","data":{"x":[0,7.52058714068014,11.6699138261984,15.3598914121365,23.5219581418641,31.6651649223771,39.3109639674762,47.7158150344177,55.0689854018933],"y":[0,-70.1612707368888,-55.0810321513374,-62.5403788281878,-71.983500166567,-76.001985034496,-90,-85.5155894762892,-90]},"PCHG":-90,"ttdata":[{"x":0,"y":0},{"x":7.52058714068014,"y":-70.1612707368888},{"x":11.6699138261984,"y":-55.0810321513374},{"x":15.3598914121365,"y":-62.5403788281878},{"x":23.5219581418641,"y":-71.983500166567},{"x":31.6651649223771,"y":-76.001985034496},{"x":39.3109639674762,"y":-90},{"x":47.7158150344177,"y":-85.5155894762892},{"x":55.0689854018933,"y":-90}],"color":"#00b159","y":-90,"name":"P-03"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Subject"}},"subtitle":{"text":"BOR: <span style='color: #00b159'> &#x25BA; <\/span>PR        <span style='color: #ffc425'> &#x25BA; <\/span>SD        <span style='color: #d11141'> &#x25BA; <\/span>PD","floating":true,"align":"right","y":30,"style":{"font-size":"130%","fontWeight":"bold"}},"tooltip":{"useHTML":true,"pointFormatter":"function() {\n  var point = this;\n  console.log(point);\n  console.log(point.ttdata);\n  setTimeout(function() {\n\n  $(\"#tooltipchart-6xtmlu5wka\").highcharts({\n  title: {\n    text: point.name\n  },\n  yAxis: {\n    title: {\n      text: null\n    }\n  },\n  credits: {\n    enabled: false\n  },\n  exporting: {\n    enabled: false\n  },\n  chart: {\n    backgroundColor: \"transparent\",\n    type: \"line\"\n  },\n  legend: {\n    enabled: false\n  },\n  plotOptions: {\n    series: {\n      animation: 2000,\n      name: point.name\n    }\n  },\n  subtitle: {\n    text: \"Change from BL (%)\"\n  },\n  series: [\n    {\n      data: point.ttdata,\n      color: point.color\n    }\n  ]\n});\n\n  }, 0);\n\n  return '<div id=\"tooltipchart-6xtmlu5wka\" style=\"width: 250px; height: 150px;\"><\/div>';\n\n  }"}},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":["hc_opts.tooltip.pointFormatter"],"jsHooks":[]}</script>

---
name: highcharter-lp
exclude: false

# Help: jkunst.com/highcharter

&lt;img src="pics/highcharter-lp.png" style = "height: 100%; width: 100%;"&gt;


---
name: help-purrr
exclude: false

# Help: purrr package

&lt;img src="pics/purrr_cs_2.png" style = "height: 85%; width: 85%;"&gt;

---
name: help-doc
exclude: false


# Help: documentation + jsfiddle/codepen

&lt;img src="pics/jsfiddle.gif" style = "height: 100%; width: 100%;"&gt;

???
some javascript knowledge will help but it isn't necessary

---
name: summary
exclude: false


# Summary

* costs money for production use
* high quality graphics
* different from ggplot2
* purrr package will be useful
* check out [jkunst.com/highcharter](http://jkunst.com/highcharter/)
* documentation is great


???
high quality graphics: animation also
abt including: I just wrote the code and it appeared

---
name: questions

&lt;img src="pics/templ_questions.png" style="position: fixed; top:40%; left: 25%"&gt;

---
name: doing

&lt;h1&gt;&lt;span style='color:#3d94d1; position: fixed; top: 40%; left: 15%'&gt;Doing now what patients need next &lt;/span&gt;&lt;/h1&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
